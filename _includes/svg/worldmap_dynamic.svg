<svg xmlns="http://www.w3.org/2000/svg" version="1.1" width="360" height="180" preserveAspectRatio="xMidYMid slice" viewBox="-180 -90 360 180" id="worldmap"
     class="{{ site.visited_countries  | join: ' '}} color-{{ 'now' | date: '%N' | modulo: 7 | plus: 1 }}">
    <g class="countries"  transform="matrix(1 0 0 -1 0 0)">
        {% for country in site.data.countries.features %}
            <g>
                <path d="
                {%- if country.geometry.type == 'MultiPolygon' -%}
                    {%- for territory in country.geometry.coordinates -%}
                        {%- for border in territory-%}
                            M
                            {%- for point in border -%}
                                {%- if forloop.first == false -%} L {%- endif -%}{{- point[0] -}},{{- point[1] -}}
                            {%- endfor -%}
                        {%- endfor -%}
                    {%- endfor -%}
                {%- elsif country.geometry.type == 'Polygon' -%}
                    {%- for border in country.geometry.coordinates-%}
                        M
                        {%- for point in border -%}
                            {%- if forloop.first == false -%} L {%- endif -%}{{- point[0] -}},{{- point[1] -}}
                        {%- endfor -%}
                    {%- endfor -%}
                {%- endif -%}
                " id="{{ country.properties.ISO_A2 }}" class="country">
                    <title>{{ country.properties.NAME_EN }}</title>
                </path>
            </g>
        {% endfor %}
    </g>
</svg>
